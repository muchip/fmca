clear all;
close all;
addpath('../')
ImgInput = imread('LuganoMuenster.png');
Img = rgb2gray(ImgInput);
y = [0:size(Img,1)-1] / size(Img,1);
x = [0:size(Img,2)-1] / size(Img,2);
[Ty, Iy, Ly] = MEXsampletBasis(y, 3);
Ty = sparse(Ty(:,1), Ty(:,2), Ty(:,3), length(y), length(y));
[Tx, Ix, Lx] = MEXsampletBasis(x, 3);
Tx = sparse(Tx(:,1), Tx(:,2), Tx(:,3), length(x), length(x));
figure(1)
TImg = (Ty * double(Img) * Tx');
TImg(find(Ly > 3), find(Lx > 3)) = 0;
%TImg = Ty' * TImg * Tx;
imshow(TImg);
